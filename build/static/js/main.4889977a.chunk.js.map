{"version":3,"sources":["components/Persons.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["Persons","person","deletePerson","className","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","errorMessage","successMessage","Footer","style","color","fontStyle","fontSize","marginBottom","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setErrorMessage","setSuccessMessage","filterSearch","filter","toLowerCase","includes","useEffect","personService","initialPeoples","rows","map","key","deletePersonEntry","contactToDelete","find","window","confirm","deletedContact","setTimeout","catch","error","value","onChange","e","console","log","target","onSubmit","preventDefault","addPerson","changedPerson","addedPerson","concat","err","updatedPerson","type","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4889977a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Persons = ({ person, deletePerson }) => {\n  return (\n    <li className='individual'>\n      {person.name} -Â {person.number}\n      <button onClick={deletePerson}>Delete</button>\n    </li>\n  );\n};\nexport default Persons;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteContact = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deleteContact };\n","import React from 'react';\n\n//notification component\nconst Notification = ({ errorMessage, successMessage }) => {\n  if (errorMessage === null && successMessage === null) {\n    return null;\n  }\n  return errorMessage ? (\n    <div className='error'>{errorMessage}</div>\n  ) : (\n    <div className='success'>{successMessage}</div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport Notification from './components/notification';\nimport './App.css';\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16,\n    marginBottom: 150\n  };\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>PhoneBook, Developed by Er. Dhakal Samundra, 2020</em>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newSearch, setNewSearch] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  const filterSearch = persons.filter(person =>\n    person.name.toLowerCase().includes(newSearch)\n  );\n\n  useEffect(() => {\n    personService.getAll().then(initialPeoples => setPersons(initialPeoples));\n  }, []);\n\n  const rows = filterSearch.map((person, id) => (\n    <Persons\n      key={id}\n      person={person}\n      deletePerson={() => deletePersonEntry(person.id)}\n    />\n  ));\n\n  //deleting a person entry\n  const deletePersonEntry = id => {\n    const contactToDelete = persons.find(person => person.id === id);\n\n    if (window.confirm(`Do you want to delete ${contactToDelete.name}?`)) {\n      personService\n        .deleteContact(id)\n        .then(deletedContact => {\n          setPersons(persons.filter(person => person.id !== deletedContact.id));\n          setSuccessMessage(\n            `${contactToDelete.name} is deleted from the database`\n          );\n\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch(error => {\n          setErrorMessage(\n            `${contactToDelete.name} was already deleted from server`\n          );\n          setPersons(\n            persons.filter(person => person.id !== contactToDelete.id)\n          );\n\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n  // Add new contact or update contact\n  const addContact = e => {\n    e.preventDefault();\n    const addPerson = {\n      name: newName,\n      number: newNumber\n    };\n\n    const person = persons.find(person => person.name === newName);\n    const changedPerson = { ...person, number: newNumber };\n\n    if (typeof person === 'undefined') {\n      personService\n        .create(addPerson)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson));\n          setNewName('');\n          setNewNumber('');\n\n          setSuccessMessage(`${addedPerson.name} has been added to phonebook`);\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch(err => {\n          setNewNumber('');\n          setNewName('');\n          setErrorMessage(err.response.data.err);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    } else {\n      if (\n        window.confirm(\n          `${changedPerson.name} already exists in phonebook. Do you want to replace the the contact?`\n        )\n      ) {\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(updatedPerson => {\n            setPersons(\n              persons.map(person =>\n                person.id !== changedPerson.id ? person : updatedPerson\n              )\n            );\n            setNewName('');\n            setNewNumber('');\n\n            setSuccessMessage(\n              `${changedPerson.name} has been updated with new number`\n            );\n\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n          })\n          .catch(err => {\n            setErrorMessage(err.response.data.err);\n          });\n      }\n    }\n  };\n\n  const changeName = e => {\n    console.log(e.target.value);\n    setNewName(e.target.value);\n  };\n  const changeNumber = e => {\n    console.log(e.target.value);\n    setNewNumber(e.target.value);\n  };\n  const changeSearch = e => {\n    console.log(e.target.value);\n    setNewSearch(e.target.value);\n  };\n\n  return (\n    <>\n      <h2>PhoneBook</h2>\n      <Notification\n        errorMessage={errorMessage}\n        successMessage={successMessage}\n      />\n      <>\n        Search By Name: <input value={newSearch} onChange={changeSearch} />\n      </>\n      <form onSubmit={addContact}>\n        <h1>Phonebook:</h1>\n        <>\n          Name:\n          <input value={newName} onChange={changeName} />\n        </>\n        <br />\n        <br />\n        <>\n          {' '}\n          Number:\n          <input value={newNumber} onChange={changeNumber} />\n        </>\n        <br />\n        <br />\n        <div>\n          <button type='submit' className='bottom'>\n            Add\n          </button>\n        </div>\n        <br />\n      </form>\n      <>\n        <h1>Lists of Contacts:</h1>\n        {rows}\n        <br />\n        <br />\n        <Footer />\n      </>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}